<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>MySQL 语句总结(1) | 哪吒的莲花座</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">MySQL 语句总结(1)</h1><a id="logo" href="/.">哪吒的莲花座</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">MySQL 语句总结(1)</h1><div class="post-meta">2020-09-26</div><div class="post-content"><p>登陆、查看表、检索数据、数据排序、过滤数据、通配符、正则表达式</p>
<a id="more"></a>

<h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<h2 id="查看表操作"><a href="#查看表操作" class="headerlink" title="查看表操作"></a>查看表操作</h2><ul>
<li><code>SHOW DATABASES;</code> 查看所有数据库名</li>
<li><code>USE databasename;</code> 选择数据库</li>
<li><code>SHOW TABLES;</code> 查看数据库中所有表名</li>
<li><code>DESCRIBE tablename;</code> 显示数据库中所要查看的表，只会显示表中的每一项名字和类型，每一项的内容不会显示</li>
</ul>
<h2 id="检索数据"><a href="#检索数据" class="headerlink" title="检索数据"></a>检索数据</h2><ul>
<li>检索单个列<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table;</span><br></pre></td></tr></table></figure></li>
<li>检索多个列<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column, column, column</span><br><span class="line">FROM table;</span><br></pre></td></tr></table></figure></li>
<li>检索表中所有列的数值内容，与DESCRIBE区分<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">FROM table;</span><br></pre></td></tr></table></figure></li>
<li>检索<strong>单个</strong>列时删除重复行（不能用于检索多个列否则除非这几个列完全相同否则会检索出全部内容）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT column</span><br><span class="line">FROM table;</span><br></pre></td></tr></table></figure></li>
<li>检索单个列的前n行,注意第一行为行0<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">LIMIT n;</span><br></pre></td></tr></table></figure></li>
<li>检索单个列的从行n开始的n行<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">LIMIT n, n;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="数据排序"><a href="#数据排序" class="headerlink" title="数据排序"></a>数据排序</h2><p><strong>ORDER BY</strong></p>
<ul>
<li>检索单个列用column1对输出进行排序，这里的column1可以是自己也可以是其他列，默认升序排序，最小的在前<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">ORDER BY column1；</span><br></pre></td></tr></table></figure></li>
<li>检索多个列用多个列进行排序，先按前面的排序，其中相同的值再按后面的排序，若第一个排序后没有相同的值，就不会进行后面的排序<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column, column, column</span><br><span class="line">FROM table</span><br><span class="line">ORDER BY column1, column2;</span><br></pre></td></tr></table></figure></li>
<li>降序排序，最大值在前，需要哪个值按降序排，就在哪个值后面加DESC<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">ORDER BY column1 DESC, column2, column3 DESC；</span><br></pre></td></tr></table></figure></li>
<li>使用 ORDER BY 和 LIMIT 的组合可以检索出最大值和最小值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">ORDER BY column DESC</span><br><span class="line">LIMIT 1;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="过滤数据"><a href="#过滤数据" class="headerlink" title="过滤数据"></a>过滤数据</h2><p><strong>WHERE</strong> 在同时使用排序和过滤时，一定要让<strong>ORDER BY</strong>在<strong>WHERE</strong>之后，先划定范围再排序</p>
<ul>
<li>指定搜索条件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column &gt; 5</span><br></pre></td></tr></table></figure>
或者<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column &#x3D; &#39;fuses&#39;</span><br></pre></td></tr></table></figure></li>
<li>搜索划定某个区间<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column BETWEEN n AND m;</span><br></pre></td></tr></table></figure></li>
<li>检测某个量为空的数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 IS NULL;</span><br></pre></td></tr></table></figure></li>
<li>过滤有多个条件的数据使用AND, OR, 优先处理AND操作符，最好使用圆括号明确分配操作符<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 &gt; 5 AND column2 &#x3D; 1;</span><br></pre></td></tr></table></figure></li>
<li>寻找指定范围的值（只有在圆括号里的值才会被检索，与BETWEEN区分，不是范围）相当于多个 OR 组合的效果<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 IN (a, b, c, d, e)</span><br><span class="line">ORDER BY column2;</span><br></pre></td></tr></table></figure></li>
<li>寻找指定范围之外的值<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 NOT IN (a, b, c, d, e)</span><br><span class="line">ORDER BY column2;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h2><p>使用 <strong>LIKE</strong>， 匹配整个字符串，若使用后面的 <strong>REGEXP</strong> 匹配的是部分子串</p>
<ul>
<li>百分号表示任意字符出现任意次数，以下是开头为’jet’的字符串<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 LIKE &#39;jet%&#39;</span><br></pre></td></tr></table></figure></li>
<li>以下是中间为’jet’的字符串，尽量不要把’%’使用在开头。因为把通配符置于搜索模式的开始处搜索起来是最慢的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 LIKE &#39;%jet%&#39;</span><br></pre></td></tr></table></figure></li>
<li>以下是开头结尾分别为为’j’,’t’的字符串<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 LIKE &#39;j%t&#39;</span><br></pre></td></tr></table></figure></li>
<li>下划线’_’只匹配单个字符</li>
</ul>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>使用 <strong>REGEXP</strong>，只需要匹配子串即可</p>
<ul>
<li>‘.’表示匹配任意一个字符<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;.000&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>OR匹配，搜索两个子串之一<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;1000|2000&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>匹配多个字符之一<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;[123] ton&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>匹配一个范围<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;[0-9] ton&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>匹配特殊字符，正则中自带的特殊字符如’.’，需要用’\‘进行转义，注意MySQL用的是两个’&#39;进行转义，与其他正则表达式不同，MySQL自己解释一个，正则表达式库解释另一个<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;\\.&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>匹配字符类，任意字母和数字<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT column</span><br><span class="line">FROM table</span><br><span class="line">WHERE column1 REGEXP &#39;[:alnum:]&#39;</span><br><span class="line">ORDER BY column1</span><br></pre></td></tr></table></figure></li>
<li>定位符：   <table>
<thead>
<tr>
<th align="center">符号</th>
<th align="center">位置</th>
</tr>
</thead>
<tbody><tr>
<td align="center">^</td>
<td align="center">文本的开始</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">文本的结尾</td>
</tr>
<tr>
<td align="center">[[:&lt;:]]</td>
<td align="center">词的开始</td>
</tr>
<tr>
<td align="center">[[:&gt;:]]</td>
<td align="center">词的结尾</td>
</tr>
</tbody></table>
</li>
</ul>
</div><div class="tags"><a href="/tags/MySQL/"><i class="fa fa-tag"></i>MySQL</a></div><div class="post-nav"><a class="pre" href="/2020/09/26/Linux-%E6%80%BB%E7%BB%93-1/">Linux 总结(1)</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://example.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/python/" style="font-size: 15px;">python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/12/12/CPython%E4%B8%AD%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%E3%80%81GIL%E4%B8%8E%E9%94%81/">CPython中的多线程、GIL与锁</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/30/python%E5%AE%9E%E7%8E%B0%E5%AF%B9%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%9A%84LS%E7%AE%97%E6%B3%95/">python实现对网络图的LS算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/Linux-%E6%80%BB%E7%BB%93-1/">Linux 总结(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/MySQL-%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93-1/">MySQL 语句总结(1)</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">哪吒的莲花座.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>